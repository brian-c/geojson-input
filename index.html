<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>GeoJSON input element</title>
	</head>

	<body>
		<form id="form">
			<label>
				Text
				<input type="text" name="just-text" value="This is a text input.">
			</label>
			<br>
			<label>
				For dev:<br>
				<geojson-input center="-87.72,41.81" zoom="10">
					<geojson-input-polygon color="green" feature='
						{
							"type": "Feature",
							"properties": {},
							"geometry": {
								"type": "Polygon",
								"coordinates": [
									[[-87.78,41.84],[-87.70,41.74],[-87.55,41.82],[-87.65,41.92],[-87.78,41.84]],
									[[-87.66,41.88],[-87.60,41.82],[-87.70,41.78],[-87.74,41.84],[-87.66,41.88]]
								]
							}
						}
					'></geojson-input-polygon>
				</geojson-input>
			</label>
			<!-- <label>
				No initial value:<br>
				<geojson-input name="starts-empty"></geojson-input>
			</label>
			<label>
				With initial value, center, and zoom:<br>
				<geojson-input
					name="starts-with-value"
					value='{"type": "Feature","geometry": {"type": "Polygon","coordinates": [[[-87.98,41.61],[-87.56,41.61],[-87.56,41.98],[-87.98,41.98],[-87.98,41.61]]]}}'
					center="-87.72,41.81"
					zoom="9"
				></geojson-input>
			</label> -->
		</form>

		<output id="form-output" for="form"></output>

		<script type="module">
			import GeoJSONInput from './src/geojson-input.ts';
			import PolygonLayer from './src/polygon-layer.ts';
			customElements.define('geojson-input', GeoJSONInput);
			customElements.define('geojson-input-polygon', PolygonLayer);

			const form = document.getElementById('form');
			const output = document.getElementById('form-output');
			form.addEventListener('change', handleChange);
			handleChange();

			function handleChange() {
				const data = Object.fromEntries(new FormData(form).entries());
				output.innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
			}
		</script>
	</body>
</html>
